---
// src/pages/[lang]/index.astro
import Layout from '../../layouts/Layout.astro';
import { translations, type UIStrings } from '../../i18n/ui';

export async function getStaticPaths() {
  // Astro'ya hangi diller i√ßin sayfa olu≈üturacaƒüƒ±nƒ± s√∂yler
  const languages = Object.keys(translations);
  return languages.map(lang => ({ params: { lang } }));
}

const { lang } = Astro.params;
const t: UIStrings = translations[lang] || translations.en; // G√ºvenlik i√ßin fallback
---
<Layout title={`Virtual Tarot - ${t.hero.title}`} lang={lang}>
  <main>
    <!-- ========== 1. HERO SECTION ========== -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <h1>{t.hero.title}</h1>
          <p class="hero-subtitle">{t.hero.subtitle}</p>
          <div class="cta-buttons">
            <a href="https://play.google.com/store/apps/details?id=com.muratalagoz.tarot12&hl=tr" target="_blank" rel="noopener noreferrer" class="cta-button google-play" aria-label="Get it on Google Play">
              <img src="/images/google-play-badge.svg" alt="Get it on Google Play" />
            </a>
            <a href="https://apps.apple.com/cy/app/virtual-tarot-tarot-kartlar%C4%B1/id1511281117?l=tr&platform=iphone" target="_blank" rel="noopener noreferrer" class="cta-button app-store" aria-label="Download on the App Store">
              <img src="/images/app-store-badge.svg" alt="Download on the App Store" />
            </a>
          </div>
        </div>
        <div class="hero-image">
          <img src="/images/phone-mockup.webp" alt="Virtual Tarot App Screenshot" width="300" height="600" />
        </div>
      </div>
    </section>

    <!-- ========== 2. FEATURES SECTION ========== -->
    <section id="features" class="features">
      <div class="container">
        <h2>{t.features.title}</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">üîÆ</div>
            <h3>{t.features.cardLayoutsTitle}</h3>
            <p>{t.features.cardLayoutsDesc}</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">üìö</div>
            <h3>{t.features.libraryTitle}</h3>
            <p>{t.features.libraryDesc}</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">‚ú®</div>
            <h3>{t.features.personalizedTitle}</h3>
            <p>{t.features.personalizedDesc}</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== APP SCREENSHOTS SECTION (EKLENEN B√ñL√úM) ========== -->
    <section class="app-screenshots">
      <div class="container">
        <h2>Explore the Mystical World Within</h2>
        <p>Take a tour of Virtual Tarot's intuitive and beautifully designed interface.</p>
        
        <div class="screenshots-grid">
          <!-- 1. Ana Men√º Ekranƒ± -->
          <div class="screenshot-card">
            <img src="/images/screenshots/mockup-main-menu.webp" alt="Virtual Tarot main menu screen showing card selection for a reading" loading="lazy" />
            <div class="screenshot-caption">
              <h4>Main Dashboard</h4>
              <p>Begin your journey with a clean and easy-to-navigate main screen.</p>
            </div>
          </div>
          
          <!-- 2. Kart Se√ßimi Ekranƒ± -->
          <div class="screenshot-card">
            <img src="/images/screenshots/mockup-card-selection.webp" alt="Screen for selecting a tarot card from a beautifully animated deck" loading="lazy" />
            <div class="screenshot-caption">
              <h4>Card Selection</h4>
              <p>Choose your cards from a stunning, interactive deck with a simple tap.</p>
            </div>
          </div>

          <!-- 3. A√ßƒ±lƒ±m Sonrasƒ± Ekranƒ± -->
          <div class="screenshot-card">
            <img src="/images/screenshots/mockup-reading-result.webp" alt="Result screen showing the selected tarot cards in their final spread" loading="lazy" />
            <div class="screenshot-caption">
              <h4>Your Reading Unveiled</h4>
              <p>View your chosen cards laid out in the spread you selected.</p>
            </div>
          </div>

          <!-- 4. Kart Detayƒ± Ekranƒ± -->
          <div class="screenshot-card">
            <img src="/images/screenshots/mockup-card-detail.webp" alt="Detailed view of a single tarot card with its upright and reversed meanings" loading="lazy" />
            <div class="screenshot-caption">
              <h4>Deep Dive into Meanings</h4>
              <p>Explore the rich symbolism and detailed interpretations of each card.</p>
            </div>
          </div>

          <!-- 5. Yorumlama Ekranƒ± -->
          <div class="screenshot-card">
            <img src="/images/screenshots/mockup-interpretation.webp" alt="Screen showing a detailed, personalized interpretation of the full tarot reading" loading="lazy" />
            <div class="screenshot-caption">
              <h4>Personalized Interpretation</h4>
              <p>Receive insightful and easy-to-understand interpretations tailored to your question.</p>
            </div>
          </div>

          <!-- 6. Rehber Kitabƒ± Ekranƒ± -->
          <div class="screenshot-card">
            <img src="/images/screenshots/mockup-guide-book.webp" alt="The in-app guide book or library with all 78 tarot cards" loading="lazy" />
            <div class="screenshot-caption">
              <h4>Your Tarot Guidebook</h4>
              <p>Access a complete library of all 78 cards anytime, right at your fingertips.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== 3. SOCIAL PROOF SECTION ========== -->
    <section class="social-proof">
      <div class="container">
        <h2>{t.socialProof.title}</h2>
        <div class="reviews-grid">
          <div class="review-card">
            <div class="stars" aria-label="5 stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"Amazing app! Very intuitive and powerful. I use it every day."</p>
            <p class="reviewer">- Sarah J.</p>
          </div>
          <div class="review-card">
            <div class="stars" aria-label="5 stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"The card meanings are so detailed. The interface is also very sleek. Highly recommend."</p>
            <p class="reviewer">- David L.</p>
          </div>
          <div class="review-card">
            <div class="stars" aria-label="5 stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"No need to go to a fortune teller. Doing my own readings is much more fun."</p>
            <p class="reviewer">- Emily R.</p>
          </div>
        </div>
        <div class="app-ratings">
            <img src="/images/google-play-rating.webp" alt="Rating on Google Play" width="150" height="50" />
            <img src="/images/app-store-rating.webp" alt="Rating on the App Store" width="150" height="50" />
        </div>
      </div>
    </section>

    <!-- ========== 4. FINAL CTA SECTION ========== -->
    <section class="final-cta">
      <div class="container">
        <h2>{t.finalCta.title}</h2>
        <p>{t.finalCta.subtitle}</p>
        <a href="#features" class="cta-button primary">{t.finalCta.button}</a>
      </div>
    </section>
  </main>
</Layout>

<style>
  /* --- Global Variables for Consistency --- */
  :root {
    --primary-color: #4a148c; /* Deep Purple, mystical */
    --secondary-color: #7b1fa2; /* Lighter Purple */
    --text-color: #333;
    --light-bg-color: #f7f4ff;
    --white-color: #ffffff;
    --max-width: 1200px;
  }
  /* --- General Styles --- */
  .container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 2rem 1rem;
  }
  h1, h2, h3 {
    color: var(--primary-color);
    font-family: sans-serif;
    margin-top: 0;
  }
  h1 { font-size: clamp(2rem, 5vw, 3.5rem); }
  h2 { font-size: clamp(1.8rem, 4vw, 2.5rem); text-align: center; margin-bottom: 2rem; }
  h3 { font-size: 1.5rem; }
  p { line-height: 1.6; color: var(--text-color); }
  /* --- Hero Section --- */
  .hero {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: var(--white-color);
    padding: 4rem 1rem;
    text-align: center;
  }
  .hero .container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
  }
  .hero-content h1 {
    color: var(--white-color);
    margin-bottom: 1rem;
  }
  .hero-subtitle {
    font-size: 1.2rem;
    max-width: 600px;
    color: var(--white-color);
  }
  .cta-buttons {
    display: flex;
    gap: 1rem;
    margin-top: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
  }
  .cta-button img {
    height: 60px;
    transition: transform 0.2s ease-in-out;
  }
  .cta-button:hover img {
    transform: scale(1.05);
  }
  /* --- Features Section --- */
  .features {
    background-color: var(--light-bg-color);
    padding: 4rem 1rem;
  }
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    text-align: center;
  }
  .feature-card {
    background: var(--white-color);
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  .feature-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }
  
  /* --- App Screenshots Section --- */
  .app-screenshots {
    padding: 5rem 1rem;
    background-color: var(--light-bg-color);
    text-align: center;
  }
  .app-screenshots h2 {
    color: var(--primary-color);
    font-size: clamp(1.8rem, 4vw, 2.8rem);
    margin-bottom: 0.5rem;
    font-weight: 700;
  }
  .app-screenshots p {
    max-width: 700px;
    margin: 0 auto 4rem auto;
    color: var(--text-color);
    font-size: 1.1rem;
  }
  .screenshots-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2.5rem;
    align-items: start;
  }
  .screenshot-card {
    background: var(--white-color);
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: flex;
    flex-direction: column;
  }
  .screenshot-card:hover {
    transform: translateY(-12px) scale(1.02);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
  }
  .screenshot-card img {
    width: 100%;
    height: auto;
    display: block;
    border-bottom: 1px solid var(--light-bg-color);
  }
  .screenshot-caption {
    padding: 1.5rem;
    text-align: left;
  }
  .screenshot-caption h4 {
    color: var(--primary-color);
    margin: 0 0 0.5rem 0;
    font-size: 1.2rem;
    font-weight: 600;
  }
  .screenshot-caption p {
    margin: 0;
    color: var(--text-color);
    font-size: 0.95rem;
    line-height: 1.6;
  }

  /* --- Social Proof Section --- */
  .social-proof {
    padding: 4rem 1rem;
  }
  .reviews-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
  }
  .review-card {
    background: var(--light-bg-color);
    padding: 1.5rem;
    border-radius: 8px;
    border-left: 5px solid var(--secondary-color);
  }
  .reviewer {
    font-weight: bold;
    margin-top: 1rem;
    text-align: right;
  }
  .app-ratings {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
      margin-top: 2rem;
      flex-wrap: wrap;
  }
  /* --- Final CTA Section --- */
  .final-cta {
    background-color: var(--primary-color);
    color: var(--white-color);
    padding: 3rem 1rem;
    text-align: center;
  }
  .final-cta h2, .final-cta p {
    color: var(--white-color);
  }
  .cta-button.primary {
    display: inline-block;
    background-color: var(--white-color);
    color: var(--primary-color);
    padding: 1rem 2rem;
    border-radius: 50px;
    text-decoration: none;
    font-weight: bold;
    margin-top: 1.5rem;
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  }
  .cta-button.primary:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
</style>